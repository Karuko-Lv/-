$$H_d(e^{j\Omega}) = A_d(\Omega) \cdot e^{-j\Omega \frac{M}{2}}$$ 和 $$H_d(e^{j\Omega}) = A_d(\Omega) \cdot e^{-j\Omega \frac{M}{2}+\frac{\pi}{2}}$$ 这两个公式的区别揭示了 **FIR 滤波器的两种截然不同的物理性质**。

简单来说：

1. **第一个公式**对应的是 **对称** 的脉冲响应（Type I, II），用于做普通的**选频滤波器**（如低通、高通）。
    
2. **第二个公式**对应的是 **反对称** 的脉冲响应（Type III, IV），用于做**微分器**或**希尔伯特变换器**。
    

核心在于那个额外的相移 **$\frac{\pi}{2}$**。

---

### 1. 第一种形式：标准对称型 (Type I & II)

$$H_d(e^{j\Omega}) = A_d(\Omega) \cdot e^{-j\Omega \frac{M}{2}}$$

- 物理含义：
    
    这里的相位只有 $- \Omega \frac{M}{2}$，这是一个纯粹的线性相位，只代表时间延迟。
    
    这意味着：输入信号里的所有频率成分，仅仅是“晚了一点”出来，波形形状没有发生扭曲。
    
- 时域特征：
    
    对应的单位脉冲响应 $h[n]$ 是 偶对称 (Even Symmetric) 的：
    
    $$h[n] = h[M-n]$$
    
    - **直观想象：** 以中心为轴，左右两边长得一模一样（像镜子）。
        
- 典型应用：
    
    我们最常用的 低通、高通、带通、带阻 滤波器，全都是用这个公式设计的。因为我们需要保真，只改变幅度，不改变相位的相对关系。
    

---

### 2. 第二种形式：反对称型 (Type III & IV)

$$H_d(e^{j\Omega}) = A_d(\Omega) \cdot e^{-j\Omega \frac{M}{2} + j\frac{\pi}{2}}$$

（注：有时写成 $- \frac{\pi}{2}$，本质一样，只是方向不同）

- 物理含义：
    
    这里多了一个常数项相移 $\frac{\pi}{2}$ (即 $90^\circ$)。
    
    利用欧拉公式，$e^{j\frac{\pi}{2}} = j$。所以这个公式其实是：
    
    $$H_d(e^{j\Omega}) = j \cdot A_d(\Omega) \cdot e^{-j\Omega \frac{M}{2}}$$
    
    这意味着滤波器对通过的所有频率成分，不仅做了延迟，还统统把相位旋转了 90度。
    
- 时域特征：
    
    对应的单位脉冲响应 $h[n]$ 是 奇对称 / 反对称 (Odd Symmetric) 的：
    
    $$h[n] = -h[M-n]$$
    
    - **中心点强制为0：** 如果是 Type III（$M$ 为偶数），中心点必须是 0，因为 $h[M/2] = -h[M/2] \Rightarrow 0$。
        
    - **直观想象：** 以中心为轴，左边是右边的“倒影”（一正一负）。
        
- 典型应用：
    
    这种滤波器不能用来做普通的低通（因为它把直流分量 $\Omega=0$ 抹杀掉了，因为 $\sin(0)=0$）。它主要用于特殊数学运算：
    
    1. **数字微分器 (Differentiator)：** 模拟求导运算。
        
    2. **希尔伯特变换器 (Hilbert Transformer)：** 专门用于产生 $90^\circ$ 相移。
        

---

### 3. 为什么加了 $\pi/2$ 就变反对称了？

这源于傅里叶变换的一个基本性质：

- **实偶对称**序列 $\leftrightarrow$ 傅里叶变换是 **纯实数** (Real)。
    
    - 对应公式 1（忽略线性相位延时因子后，剩下的是实数 $A_d$）。
        
- **实奇对称**序列 $\leftrightarrow$ 傅里叶变换是 **纯虚数** (Imaginary)。
    
    - 对应公式 2。因为 $e^{j\pi/2} = j$，所以 $H_d$ 变成了纯虚数。
        

### 总结对照表

|**特征**|**公式 1 (无 π/2)**|**公式 2 (有 π/2)**|
|---|---|---|
|**数学项**|$e^{-j\Omega \frac{M}{2}}$|$e^{-j\Omega \frac{M}{2}} \cdot j$|
|**时域对称性**|**偶对称** ($h[n] = h[M-n]$)|**奇对称** ($h[n] = -h[M-n]$)|
|**FIR 类型**|Type I, Type II|Type III, Type IV|
|**中心点值**|可以是非零值|往往是 0 (Type III)|
|**功能**|**选频** (低通/高通/带通)|**运算** (微分器/90度移相)|
|**直流特性**|允许直流通过 (如低通)|**必杀直流** (在 $\omega=0$ 处必定为0)|