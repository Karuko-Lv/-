要熟练用$cos^2 + \sin^2 = 1$ 、$sec^2 = \tan^2 + 1$ 、$csc^2 = \cot^2 + 1$进行转换成同样的三角函数
# 三角函数积分大全

## 一、基本三角函数积分（一次）

### 正弦与余弦
1. $\int \sin x \, dx = -\cos x + C$
2. $\int \cos x \, dx = \sin x + C$
3. $\int \tan x \, dx = \ln|\sec x| + C = -\ln|\cos x| + C$
4. $\int \cot x \, dx = \ln|\sin x| + C$

### 正割与余割
5. $\int \sec x \, dx = \ln|\sec x + \tan x| + C$
6. $\int \csc x \, dx = -\ln|\csc x + \cot x| + C = \ln|\csc x - \cot x| + C$

---

## 二、平方三角函数积分（二次）

### 正弦与余弦平方
1. $\int \sin^2 x \, dx = \frac{x}{2} - \frac{\sin 2x}{4} + C$
2. $\int \cos^2 x \, dx = \frac{x}{2} + \frac{\sin 2x}{4} + C$
3. $\int \tan^2 x \, dx = \tan x - x + C$
4. $\int \cot^2 x \, dx = -\cot x - x + C$

### 正割与余割平方
5. $\int \sec^2 x \, dx = \tan x + C$
6. $\int \csc^2 x \, dx = -\cot x + C$

### 乘积形式
7. $\int \sin x \cos x \, dx = -\frac{1}{4} \cos 2x + C = \frac{1}{2} \sin^2 x + C$
8. $\int \sin mx \cos nx \, dx = -\frac{\cos(m+n)x}{2(m+n)} - \frac{\cos(m-n)x}{2(m-n)} + C \quad (m \neq n)$
9. $\int \sec x \tan x \, dx = \sec x + C$
10. $\int \csc x \cot x \, dx = -\csc x + C$

---

## 三、立方三角函数积分（三次）

### 正弦与余弦立方
1. $\int \sin^3 x \, dx = -\cos x + \frac{\cos^3 x}{3} + C = \frac{3}{4}\cos x - \frac{1}{12}\cos 3x + C$
2. $\int \cos^3 x \, dx = \sin x - \frac{\sin^3 x}{3} + C = \frac{3}{4}\sin x + \frac{1}{12}\sin 3x + C$
3. $\int \tan^3 x \, dx = \frac{1}{2} \tan^2 x + \ln|\cos x| + C$
4. $\int \cot^3 x \, dx = -\frac{1}{2} \cot^2 x - \ln|\sin x| + C$

### 正割与余割立方
5. $\int \sec^3 x \, dx = \frac{1}{2} (\sec x \tan x + \ln|\sec x + \tan x|) + C$
ps: $\int \sqrt{x^2+1} \, dx = \int \sec^3 \theta \, d\theta$
6. $\int \csc^3 x \, dx = -\frac{1}{2} (\csc x \cot x + \ln|\csc x - \cot x|) + C$

### 混合立方形式
7. $\int \sin^2 x \cos x \, dx = \frac{1}{3} \sin^3 x + C$
8. $\int \cos^2 x \sin x \, dx = -\frac{1}{3} \cos^3 x + C$

---

## 四、反三角函数积分

### 基本反三角函数
1. $\int \arcsin x \, dx = x \arcsin x + \sqrt{1-x^2} + C$
2. $\int \arccos x \, dx = x \arccos x - \sqrt{1-x^2} + C$
3. $\int \arctan x \, dx = x \arctan x - \frac{1}{2} \ln(1+x^2) + C$
4. $\int \operatorname{arccot} x \, dx = x \operatorname{arccot} x + \frac{1}{2} \ln(1+x^2) + C$

### 反割函数
5. $\int \operatorname{arcsec} x \, dx = x \operatorname{arcsec} x - \ln\left|x + \sqrt{x^2-1}\right| + C$
6. $\int \operatorname{arccsc} x \, dx = x \operatorname{arccsc} x + \ln\left|x + \sqrt{x^2-1}\right| + C$

### 组合形式
7. $\int x \arcsin x \, dx = \frac{1}{4} \left( (2x^2-1) \arcsin x + x \sqrt{1-x^2} \right) + C$
8. $\int x \arctan x \, dx = \frac{1}{2} \left( (x^2+1) \arctan x - x \right) + C$

## 五、四次三角函数积分大全

### 1、纯四次幂积分

#### 正弦与余弦四次幂
1. **$\int \sin^4 x  dx$**  
   $= \int \left(\frac{3}{8} - \frac{1}{2}\cos 2x + \frac{1}{8}\cos 4x\right) dx$  
   $= \frac{3}{8}x - \frac{1}{4}\sin 2x + \frac{1}{32}\sin 4x + C$

2. **$\int \cos^4 x  dx$**  
   $= \int \left(\frac{3}{8} + \frac{1}{2}\cos 2x + \frac{1}{8}\cos 4x\right) dx$  
   $= \frac{3}{8}x + \frac{1}{4}\sin 2x + \frac{1}{32}\sin 4x + C$

#### 正切与余切四次幂
3. **$\int \tan^4 x  dx$**  
   $= \int \tan^2 x (\sec^2 x - 1)  dx$  
   $= \int (\tan^2 x \sec^2 x - \tan^2 x)  dx$  
   $= \frac{1}{3}\tan^3 x - \tan x + x + C$

4. **$\int \cot^4 x  dx$**  
   $= \int \cot^2 x (\csc^2 x - 1)  dx$  
   $= \int (\cot^2 x \csc^2 x - \cot^2 x)  dx$  
   $= -\frac{1}{3}\cot^3 x + \cot x + x + C$

#### 正割与余割四次幂
5. **$\int \sec^4 x  dx$**  
   $= \int \sec^2 x (1 + \tan^2 x)  dx$  
   $= \tan x + \frac{1}{3}\tan^3 x + C$

6. **$\int \csc^4 x  dx$**  
   $= \int \csc^2 x (1 + \cot^2 x)  dx$  
   $= -\cot x - \frac{1}{3}\cot^3 x + C$

---

### 2、混合四次幂积分

#### 正弦与余弦混合
7. **$\int \sin^2 x \cos^2 x  dx$**  
   $= \int \frac{1}{4} \sin^2 2x  dx$  
   $= \frac{1}{4} \int \frac{1 - \cos 4x}{2}  dx$  
   $= \frac{1}{8}x - \frac{1}{64}\sin 4x + C$

8. **$\int \sin^3 x \cos x  dx$**  
   $= \int \sin^3 x  d(\sin x)$  
   $= \frac{1}{4}\sin^4 x + C$

9. **$\int \cos^3 x \sin x  dx$**  
   $= -\int \cos^3 x  d(\cos x)$  
   $= -\frac{1}{4}\cos^4 x + C$

#### 正切与正割混合
10. **$\int \tan^3 x \sec x  dx$**  
    $= \int (\sec^2 x - 1) \sec x \tan x  dx$  
    $= \frac{1}{3}\sec^3 x - \sec x + C$

11. **$\int \tan x \sec^3 x  dx$**  
    $= \int \sec^2 x  d(\sec x)$  
    $= \frac{1}{3}\sec^3 x + C$

#### 余切与余割混合
12. **$\int \cot^3 x \csc x  dx$**  
    $= \int (\csc^2 x - 1) \csc x \cot x  dx$  
    $= -\frac{1}{3}\csc^3 x + \csc x + C$

13. **$\int \cot x \csc^3 x  dx$**  
    $= -\int \csc^2 x  d(\csc x)$  
    $= -\frac{1}{3}\csc^3 x + C$

---

### 3、特殊组合积分

#### 乘积形式
14. **$\int \sin^2 x \cos^2 x  dx$** (同公式7)  
    $= \frac{1}{32} (4x - \sin 4x) + C$

15. **$\int \sin x \cos^3 x  dx$**  
    $= -\int \cos^3 x  d(\cos x)$  
    $= -\frac{1}{4}\cos^4 x + C$ (同公式9)

#### 含常数项
16. **$\int (a^2 - \sin^4 x)  dx$**  
    $= a^2x - \left(\frac{3}{8}x - \frac{1}{4}\sin 2x + \frac{1}{32}\sin 4x\right) + C$

17. **$\int (\sec^4 x - \tan^4 x)  dx$**  
    $= \int (\sec^2 x - \tan^2 x)(\sec^2 x + \tan^2 x)  dx$  
    $= \int (1)(\sec^2 x + \tan^2 x)  dx$  
    $= \int (2\sec^2 x - 1)  dx$  
    $= 2\tan x - x + C$

---

### 4、通用积分技巧

#### 降幂公式
- $\sin^4 x = \dfrac{3}{8} - \dfrac{1}{2}\cos 2x + \dfrac{1}{8}\cos 4x$
- $\cos^4 x = \dfrac{3}{8} + \dfrac{1}{2}\cos 2x + \dfrac{1}{8}\cos 4x$
- $\sin^2 x \cos^2 x = \dfrac{1}{8}(1 - \cos 4x)$

#### 代换法
- 对 $\int \tan^n x \sec^m x  dx$：
  - 当 $m$ 为偶数时，令 $u = \tan x$
  - 当 $n$ 为奇数时，令 $u = \sec x$
- 对 $\int \sin^m x \cos^n x  dx$：
  - 当 $m$ 或 $n$ 为奇数时，分离出一次幂项
  - 当均为偶数时，使用降幂公式

> 注：所有公式中 $C$ 表示积分常数，实际应用时需考虑定义域和积分技巧的选择。


## 六、待定系数法求解三角函数积分

待定系数法是求解形如 $\int \frac{a \sin x + b \cos x}{c \sin x + d \cos x} dx$ 积分的有效方法。基本思想是将分子表示为分母及其导数的线性组合。

### 1、通用方法

#### ①设定形式
设分子为：
$$a \sin x + b \cos x = A(c \sin x + d \cos x) + B \frac{d}{dx}(c \sin x + d \cos x)$$
其中：
$$\frac{d}{dx}(c \sin x + d \cos x) = c \cos x - d \sin x$$

####  ②展开比较
展开右边：
$$A(c \sin x + d \cos x) + B(c \cos x - d \sin x) = (Ac - Bd) \sin x + (Ad + Bc) \cos x$$
建立方程组：
$$
\begin{cases}
Ac - Bd = a \\
Ad + Bc = b
\end{cases}
$$

#### ③求解系数
解方程组：
$$
A = \frac{ac + bd}{c^2 + d^2}, \quad B = \frac{bc - ad}{c^2 + d^2}
$$

#### ④积分结果
原积分化为：
$$\int \left[ A + B \frac{c \cos x - d \sin x}{c \sin x + d \cos x} \right] dx = Ax + B \ln |c \sin x + d \cos x| + C$$

---

### 2、典型示例

#### 例1：$\int \frac{\sin x}{\sin x + \cos x} dx$

1. **设系数**：
   $\sin x = A(\sin x + \cos x) + B(\cos x - \sin x)$
   
2. **展开比较**：
   $(A - B) \sin x + (A + B) \cos x$
   $$
   \begin{cases}
   A - B = 1 \\
   A + B = 0
   \end{cases}
   \Rightarrow A = \frac{1}{2},\ B = -\frac{1}{2}
   $$

3. **积分**：
   $$
   \int \left[ \frac{1}{2} - \frac{1}{2} \frac{\cos x - \sin x}{\sin x + \cos x} \right] dx = \frac{x}{2} - \frac{1}{2} \ln |\sin x + \cos x| + C
   $$

**结果**：
$$\int \frac{\sin x}{\sin x + \cos x} dx = \frac{x}{2} - \frac{1}{2} \ln |\sin x + \cos x| + C$$

---

#### 例2：$\int \frac{3\cos x}{2\sin x - \cos x} dx$

1. **设系数**：
   $3\cos x = A(2\sin x - \cos x) + B(2\cos x + \sin x)$
   
2. **展开比较**：
   $(2A + B) \sin x + (-A + 2B) \cos x$
   $$
   \begin{cases}
   2A + B = 0 \\
   -A + 2B = 3
   \end{cases}
   \Rightarrow A = -\frac{3}{5},\ B = \frac{6}{5}
   $$

3. **积分**：
   $$
   \int \left[ -\frac{3}{5} + \frac{6}{5} \frac{2\cos x + \sin x}{2\sin x - \cos x} \right] dx = -\frac{3}{5}x + \frac{6}{5} \ln |2\sin x - \cos x| + C
   $$

**结果**：
$$\int \frac{3\cos x}{2\sin x - \cos x} dx = -\frac{3}{5}x + \frac{6}{5} \ln |2\sin x - \cos x| + C$$

---

### 3、特殊情形

#### 情形1：分母为单一函数
$$\int \frac{a \sin x + b \cos x}{\sin x} dx = a x + b \ln |\sin x| + C$$

#### 情形2：分子为常数
$$\int \frac{dx}{\sin x + \cos x} = \frac{1}{\sqrt{2}} \ln \left| \tan \frac{x}{2} + \sqrt{2} - 1 \right| + C$$

#### 情形3：对称积分
利用恒等式：
$$
\int \frac{\sin x}{\sin x + \cos x} dx + \int \frac{\cos x}{\sin x + \cos x} dx = x + C
$$

---

### 4、通用公式

对于一般形式：
$$\int \frac{a \sin x + b \cos x}{c \sin x + d \cos x} dx$$

解为：
$$\frac{ac + bd}{c^2 + d^2}x + \frac{bc - ad}{c^2 + d^2} \ln |c \sin x + d \cos x| + C$$

---

### 5、技巧总结

1. **系数关系**：当 $ad = bc$ 时，积分简化为 $\frac{a}{c}x + C$
2. **辅助角变换**：分母化为 $R \sin(x + \phi)$，其中 $R = \sqrt{c^2 + d^2}$
3. **导数观察**：分子为分母导数时，结果为 $\ln |c \sin x + d \cos x| + C$
4. **定义域注意**：在 $c \sin x + d \cos x = 0$ 点不连续
5. **验证方法**：对结果求导验证是否等于被积函数

> 待定系数法避免了繁琐的三角代换，将三角积分转化为代数运算，是处理此类积分的有效工具。