您好！您提出的这两个“求导公式逆用”是求解一阶微分方程的**两大核心思想**。

1. **$f^{\prime}[g(x)]g^{\prime}(x) = [f(g(x))]^{\prime}$**
    
    - **思想：** 链式法则的逆用。
        
    - **应用：** 积分中的 **$u$-换元法**（$u=g(x), du = g'(x)dx$） 和 **恰当微分方程** 中的分组。
        
2. **$f^{\prime}(x)g(x)+f(x)g^{\prime}(x)=[f(x)g(x)]^{\prime}$**
    
    - **思想：** 乘积法则的逆用。
        
    - **应用：** 求解**一阶线性微分方程**的**积分因子法**。
        

下面我为您分别出几道题，并展示如何用您指定的这两种方法来求解。

---

### 1. 复合函数求导（链式法则）逆用

**$f^{\prime}[g(x)]g^{\prime}(x) \Rightarrow [f(g(x))]^{\prime}$**

这种方法的核心是“**凑微分**”，把一个复杂的表达式“看成”一个整体的导数。

#### 示例1：恰当微分方程 (Exact Equation)

**方程：** $2xy \,dx + (x^2 + 1) \,dy = 0$

**分析与求解：**

1. 我们将方程进行分组：
    
    $$(2xy \,dx + x^2 \,dy) + 1 \,dy = 0$$
    
2. 观察括号内的项 $(2xy \,dx + x^2 \,dy)$。
    
3. 这**不是**乘积法则 $d(xy) = y\,dx + x\,dy$。
    
4. 我们尝试把它看作 $d[f(g)]$ 的形式。
    
    - 让我们“猜” $g(x,y) = x^2$。那么 $dg = 2x \,dx$。这也不对。
        
    - 让我们“猜” $g(x,y) = x^2 y$。那么 $d(x^2 y) = 2xy \,dx + x^2 \,dy$。
        
    - **完全匹配！**
        
5. 所以， $2xy \,dx + x^2 \,dy = d(x^2 y)$。
    
6. 原方程变为：
    
    $$d(x^2 y) + d(y) = 0$$
    
7. 两边同时积分：
    
    $$\int d(x^2 y) + \int d(y) = \int 0$$
    
8. **解：** $x^2 y + y = C$
    

**总结：** 在这个例子中，我们把 $g(x,y) = x^2 y$ 看作一个整体变量 $u$，原方程的前半部分 $2xy \,dx + x^2 \,dy$ 就是 $du$，即 $g'(x,y)$ 的全微分。

---

#### 示例2：$u$-换元法 (Bernoulli 方程)

**方程：** $y' + \frac{1}{x} y = x y^2$

**分析与求解：**

1. 这是一个**伯努利方程**，它不是线性的。我们通过“换元”将它变为线性的。
    
2. 方程两边同除以 $y^2$：
    
    $$y^{-2} y' + \frac{1}{x} y^{-1} = x$$
    
3. **开始换元：**
    
    - 我们注意到 $y^{-1}$ 和它的导数 $(y^{-1})' = -y^{-2} y'$ 都出现在了方程中。
        
    - 这就是您公式中的 $g(x)$ 和 $g'(x)$！
        
    - 令 $u = g(y) = y^{-1}$。（这里的自变量是 $y$，而非 $x$，但原理相同）
        
    - 对 $u$ 求 $x$ 的导数（使用链式法则）：
        
        $u' = \frac{du}{dx} = \frac{d(y^{-1})}{dy} \cdot \frac{dy}{dx} = -1 \cdot y^{-2} \cdot y'$
        
4. 现在看原方程 $y^{-2} y' + \frac{1}{x} y^{-1} = x$：
    
    - $y^{-1}$ 替换为 $u$
        
    - $y^{-2} y'$ 替换为 $-u'$
        
5. 方程变为：
    
    $$-u' + \frac{1}{x} u = x$$
    
    $$u' - \frac{1}{x} u = -x$$
    
6. 这个新方程 $u' - \frac{1}{x} u = -x$ 是一个**一阶线性方程**，它可以用您的**第二种方法**来解！
    

---

### 2. 乘积求导法则 逆用

**$f^{\prime}(x)g(x)+f(x)g^{\prime}(x) = [f(x)g(x)]^{\prime}$**

这种方法的核心是“**配方**”，通过乘以一个“积分因子” $\mu(x)$，强行使方程的左边变成一个乘积的导数。

#### 示例1：求解上题的 $u' - \frac{1}{x} u = -x$

**分析与求解：**

1. 我们有一阶线性方程 $u' - \frac{1}{x} u = -x$。
    
    标准形式是 $u' + p(x) u = q(x)$。这里 $p(x) = -\frac{1}{x}$。
    
2. 我们想找到一个积分因子 $\mu(x)$，使得 $\mu(x)$ 乘以方程左边后，能凑成 $[\mu(x) u]'$：
    
    - $[\mu(x) u]' = \mu'(x) u + \mu(x) u'$
        
    - 我们希望：$\mu(x) (u' - \frac{1}{x} u) = \mu(x) u' - \frac{\mu(x)}{x} u$
        
    - 对比两式，我们必须强行令 $\mu'(x) = -\frac{\mu(x)}{x}$
        
3. 求解 $\mu(x)$：
    
    - $\frac{d\mu}{\mu} = -\frac{1}{x} dx$
        
    - $\ln \mu = -\ln x = \ln(x^{-1})$
        
    - $\mu(x) = x^{-1} = \frac{1}{x}$
        
4. 现在，用 $\mu(x) = \frac{1}{x}$ 乘以方程 $u' - \frac{1}{x} u = -x$ 的两边：
    
    $$\frac{1}{x} u' - \frac{1}{x^2} u = -1$$
    
5. **见证奇迹：**
    
    - 方程左侧是 $\frac{1}{x} u' - \frac{1}{x^2} u$。
        
    - 我们用您的公式2：令 $f(x) = \frac{1}{x}$，$g(x) = u(x)$。
        
    - $f'(x) = -\frac{1}{x^2}$
        
    - $g'(x) = u'$
        
    - 左侧 $f(x) g'(x) + f'(x) g(x)$ 正好是 $[\frac{1}{x} u]'$！
        
6. 方程变为：
    
    $$\left[\frac{1}{x} u\right]' = -1$$
    
7. 两边同时积分：
    
    $$\int \left[\frac{1}{x} u\right]' dx = \int -1 dx$$
    
    $$\frac{1}{x} u = -x + C$$
    
8. 解： $u = -x^2 + Cx$。
    
    (如果您还记得，这是 $y' + \frac{1}{x} y = x y^2$ 的解，把 $u=y^{-1}$ 代回，得到 $y = \frac{1}{Cx - x^2}$)
    

---

#### 示例2：一个更直接的例子

**方程：** $y' + 3y = 5$

**分析与求解：**

1. 这是一阶线性方程，$p(x) = 3$。
    
2. 积分因子：$\mu(x) = e^{\int p(x) dx} = e^{\int 3 dx} = e^{3x}$。
    
3. 方程两边同乘 $e^{3x}$：
    
    $$e^{3x} y' + 3e^{3x} y = 5e^{3x}$$
    
4. **应用公式2：**
    
    - 左侧 $e^{3x} y' + 3e^{3x} y$
        
    - 令 $f(x) = e^{3x}$，$g(x) = y(x)$
        
    - $f'(x) = 3e^{3x}$
        
    - $g'(x) = y'$
        
    - 左侧 $f(x)g'(x) + f'(x)g(x)$ 完美地等于 $[e^{3x} y]'$。
        
5. 方程变为：
    
    $$[e^{3x} y]' = 5e^{3x}$$
    
6. 两边积分：
    
    $$e^{3x} y = \int 5e^{3x} dx$$
    
    $$e^{3x} y = 5 \cdot \frac{1}{3} e^{3x} + C$$
    
7. **解：** $y = \frac{5}{3} + C e^{-3x}$